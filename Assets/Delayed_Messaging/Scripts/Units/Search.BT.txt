tree "Search"
    while 
        sequence
            Search
            not HasResource
        repeat
            tree "FindResource"
    
tree "FindResource"
    fallback
        DetectResource